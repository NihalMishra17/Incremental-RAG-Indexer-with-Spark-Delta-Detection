delta-indexer {
  # Override these for AWS with environment variables
  input-dir = "test-corpus"
  input-dir = ${?INPUT_DIR}

  output-dir = "delta-output"
  output-dir = ${?OUTPUT_DIR}

  documents-table = "documents"
  chunks-table = "chunks"
  embeddings-table = "embeddings"
  index-table = "retrieval_index"

  chunking {
    chunk-size = 1000
    overlap = 100
    version = "v1"
  }

  embedding {
    model = "mxbai-embed-large"
    version = "v1"
    batch-size = 16
    dimension = 1024
    ollama-host = "http://127.0.0.1:11434"
    ollama-host = ${?OLLAMA_HOST}
  }

  index {
    num-shards = 3
    publish-strategy = "blue-green"
  }

  spark {
    app-name = "DeltaIndexer"
    master = "local[*]"
    master = ${?SPARK_MASTER}
    checkpoint-dir = "delta-output/checkpoints"
    checkpoint-dir = ${?CHECKPOINT_DIR}
  }
}